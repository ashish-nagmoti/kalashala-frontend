import{c as S,u as D,r as c,j as e,S as I,C as Y,a as K}from"./index-BPVEKsek.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],O=S("ChevronLeft",H);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],J=S("ChevronRight",G),V=()=>{const{schemes:r,setSchemes:u}=D(),[_,j]=c.useState(null),[N,d]=c.useState([]),[C,k]=c.useState("all"),[t,p]=c.useState(1),[x,L]=c.useState(1),[g,A]=c.useState(0),[P,b]=c.useState(!1),[y,v]=c.useState(null),[m,$]=c.useState(null),h=10,E=s=>`https://api.data.gov.in/resource/3fa8d289-8efd-4f3b-a9a1-94d3ecf11abd?api-key=579b464db66ec23bdd000001ca1d41bc8bac41596da6cf41b94fbc1a&format=json&offset=${s}&limit=${h}`;c.useEffect(()=>{(async()=>{var n,a;b(!0);try{const l=(t-1)*h,f=await fetch(E(l));if(!f.ok)throw new Error(`HTTP error! Status: ${f.status}`);const o=await f.json();$({title:o.title,description:o.desc,organization:((n=o.org)==null?void 0:n.join(", "))||"Not specified",sector:((a=o.sector)==null?void 0:a.join(", "))||"Not specified",lastUpdated:new Date(o.updated_date).toLocaleDateString()}),A(o.total),L(Math.ceil(o.total/h));const w=o.records.map((i,B)=>({id:`scheme-${l+B+1}`,title:i.name_of_the_scheme||"Unnamed Scheme",category:i.category_of_artiste__based_on_the_age_group_||"Not specified",description:`Financial assistance scheme with previous monthly amount of ₹${i.previous_amount_of_financial_assistance__in_rs__per_month_} enhanced to ₹${i.enhanced_amount_of_financial_assistance__in_rs__per_month_}`,previousAmount:i.previous_amount_of_financial_assistance__in_rs__per_month_,enhancedAmount:i.enhanced_amount_of_financial_assistance__in_rs__per_month_,year:"2022-23",benefits:[`Enhanced financial assistance of ₹${i.enhanced_amount_of_financial_assistance__in_rs__per_month_} per month`,`₹${i.enhanced_amount_of_financial_assistance__in_rs__per_month_-i.previous_amount_of_financial_assistance__in_rs__per_month_} increase from previous assistance`],eligibility:[`Age group: ${i.category_of_artiste__based_on_the_age_group_}`,"Must be an artist under the specified category"],applyLink:"#"}));u(w),console.log(r),d(w),v(null)}catch(l){console.error("Error fetching schemes:",l),v("Failed to load schemes. Please try again later.")}finally{b(!1)}})()},[t,u]);const R=s=>{if(!s.trim()){d(r);return}const n=r.filter(a=>a.title.toLowerCase().includes(s.toLowerCase())||a.description.toLowerCase().includes(s.toLowerCase())||a.category.toLowerCase().includes(s.toLowerCase())||a.benefits.some(l=>l.toLowerCase().includes(s.toLowerCase()))||a.eligibility.some(l=>l.toLowerCase().includes(s.toLowerCase())));d(n)},F=s=>{j(_===s?null:s)},T=s=>{if(k(s),s==="all")d(r);else{const n=r.filter(a=>a.category===s);d(n)}},U=()=>{t<x&&p(t+1)},M=()=>{t>1&&p(t-1)},z=r.length>0?["all",...new Set(r.map(s=>s.category))]:["all"];return e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"container-custom",children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Financial Assistance Schemes for Artists"}),m&&e.jsxs("div",{className:"mb-8",children:[e.jsx("p",{className:"text-gray-600 mb-2",children:m.description}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsxs("span",{className:"inline-block mr-4",children:["Organization: ",m.organization]}),e.jsxs("span",{className:"inline-block mr-4",children:["Sector: ",m.sector]}),e.jsxs("span",{children:["Last Updated: ",m.lastUpdated]})]})]}),e.jsx("div",{className:"mb-8",children:e.jsx(I,{placeholder:"Search schemes by keyword...",onSearch:R})}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[e.jsxs("div",{className:"md:w-1/4",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Age Categories"}),e.jsx("div",{className:"space-y-2",children:z.map((s,n)=>e.jsx("button",{onClick:()=>T(s),className:`block w-full text-left px-3 py-2 rounded-md ${C===s?"bg-black text-white":"hover:bg-gray-100"}`,children:s==="all"?"All Categories":s},n))})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mt-4",children:[e.jsx("h2",{className:"font-semibold text-lg mb-4",children:"Statistics"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:["Total Schemes: ",g]}),e.jsx("p",{className:"text-sm",children:"Financial Year: 2022-23"})]})]})]}),e.jsx("div",{className:"md:w-3/4",children:P?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg",children:e.jsx("p",{className:"text-gray-500",children:"Loading schemes..."})}):y?e.jsxs("div",{className:"text-center py-12 bg-white rounded-lg",children:[e.jsx("p",{className:"text-red-500",children:y}),e.jsx("button",{onClick:()=>p(t),className:"mt-4 px-4 py-2 bg-black text-white rounded-md",children:"Retry"})]}):N.length===0?e.jsx("div",{className:"text-center py-12 bg-white rounded-lg",children:e.jsx("p",{className:"text-gray-500",children:"No schemes found matching your criteria."})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-4",children:N.map(s=>e.jsxs("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[e.jsxs("div",{className:"p-6 cursor-pointer flex justify-between items-center",onClick:()=>F(s.id),children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-500",children:["For artists in age group: ",s.category]})]}),_===s.id?e.jsx(Y,{className:"w-5 h-5"}):e.jsx(K,{className:"w-5 h-5"})]}),_===s.id&&e.jsxs("div",{className:"p-6 pt-0 border-t",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Financial Assistance"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Previous Amount"}),e.jsxs("p",{className:"text-xl font-semibold",children:["₹",s.previousAmount,"/month"]})]}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Enhanced Amount"}),e.jsxs("p",{className:"text-xl font-semibold",children:["₹",s.enhancedAmount,"/month"]})]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Benefits"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.benefits.map((n,a)=>e.jsx("li",{className:"text-gray-700",children:n},a))})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Eligibility"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:s.eligibility.map((n,a)=>e.jsx("li",{className:"text-gray-700",children:n},a))})]})]})]},s.id))}),e.jsxs("div",{className:"mt-8 flex justify-between items-center",children:[e.jsxs("button",{onClick:M,disabled:t===1,className:`flex items-center px-4 py-2 ${t===1?"text-gray-400 cursor-not-allowed":"text-black hover:bg-gray-100"} rounded-md`,children:[e.jsx(O,{className:"w-4 h-4 mr-2"}),"Previous"]}),e.jsxs("div",{className:"text-gray-600",children:["Page ",t," of ",x,e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Showing ",(t-1)*h+1," - ",Math.min(t*h,g)," of ",g," schemes"]})]}),e.jsxs("button",{onClick:U,disabled:t===x,className:`flex items-center px-4 py-2 ${t===x?"text-gray-400 cursor-not-allowed":"text-black hover:bg-gray-100"} rounded-md`,children:["Next",e.jsx(J,{className:"w-4 h-4 ml-2"})]})]})]})})]})]})})};export{V as default};
