import{r as a,j as e,L as r,S as A}from"./index-BPVEKsek.js";import{e as n,a as p}from"./apiHelpers-DDwic4r0.js";const k=()=>{const[i,j]=a.useState([]),[o,g]=a.useState([]),[N,d]=a.useState(!0),[v,m]=a.useState(!0),[h,x]=a.useState(null),[u,f]=a.useState(null),[c,y]=a.useState("");a.useEffect(()=>{(async()=>{try{const t=await n("/custom_auth/get-csrf-token/",{method:"GET",credentials:"include"});if(t.ok){const l=await t.json();y(l.csrfToken)}}catch(t){console.error("Error fetching CSRF token:",t)}})()},[]),a.useEffect(()=>{c&&(async()=>{d(!0),x(null);try{const t=await n("/custom_auth/artists/",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":c}});if(!t.ok)throw new Error(`Failed to fetch artists: ${t.statusText}`);const l=await t.json();j(l.slice(0,4))}catch(t){console.error("Error fetching artists:",t),x("Failed to load featured artists")}finally{d(!1)}})()},[c]),a.useEffect(()=>{c&&(async()=>{m(!0),f(null);try{const t=await n("/blog/courses/",{method:"GET",credentials:"include",headers:{"Content-Type":"application/json","X-CSRFToken":c}});if(!t.ok)throw new Error(`Failed to fetch courses: ${t.statusText}`);const l=await t.json();g(l.slice(0,4))}catch(t){console.error("Error fetching courses:",t),f("Failed to load courses")}finally{m(!1)}})()},[c]);const b=s=>(s.portfolio_items&&s.portfolio_items.length>0,"/placeholder.svg"),w=s=>s.thumbnail?s.thumbnail.startsWith("http")?s.thumbnail:s.thumbnail.startsWith("/media")?p(s.thumbnail):p(`/media/${s.thumbnail}`):"/placeholder.svg?height=200&width=300";return e.jsxs("div",{children:[e.jsx("section",{className:"bg-gradient-to-r from-gray-100 to-gray-200 py-16",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"max-w-2xl",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Discover and Support Indian Artisans"}),e.jsx("p",{className:"text-lg mb-8",children:"Explore traditional art forms, learn from master artisans, and discover government schemes to support your craft."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(r,{to:"/artists",className:"btn-primary",children:"Explore Artists"}),e.jsx(r,{to:"/schemes",className:"btn-secondary",children:"Government Schemes"})]})]})})}),e.jsx("section",{className:"py-12 bg-white",children:e.jsx("div",{className:"container-custom",children:e.jsx(A,{placeholder:"Search for artists, courses, or schemes..."})})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container-custom",children:[e.jsx("h2",{className:"section-title",children:"Featured Artists"}),N?e.jsx("div",{className:"flex justify-center items-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-black"})}):h?e.jsx("div",{className:"text-center py-6 text-red-600",children:h}):i.length===0?e.jsx("div",{className:"text-center py-6 text-gray-500",children:"No artists found. Add some artists to showcase them here."}):e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:i.map(s=>{var t;return e.jsxs(r,{to:`/artists/${s.id}`,className:"card group",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:b(s),alt:s.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600",children:s.art_style||((t=s.portfolio_items[0])==null?void 0:t.category)||"Artist"}),e.jsx("div",{className:"flex mt-2",children:s.portfolio_items.length>0&&e.jsxs("p",{className:"text-xs text-gray-500",children:[s.portfolio_items.length," ",s.portfolio_items.length===1?"project":"projects"]})})]})]},s.id)})}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(r,{to:"/artists",className:"btn-secondary",children:"View All Artists"})})]})}),e.jsx("section",{className:"py-12",children:e.jsxs("div",{className:"container-custom",children:[e.jsx("h2",{className:"section-title",children:"Learn from Master Artisans"}),v?e.jsx("div",{className:"flex justify-center items-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-black"})}):u?e.jsx("div",{className:"text-center py-6 text-red-600",children:u}):o.length===0?e.jsx("div",{className:"text-center py-6 text-gray-500",children:"No courses found. Add some courses to showcase them here."}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(s=>e.jsxs("div",{className:"card group",children:[e.jsx("div",{className:"aspect-video overflow-hidden",children:e.jsx("img",{src:w(s),alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold",children:s.title}),e.jsxs("div",{className:"flex items-center mt-2 mb-2",children:[e.jsx("div",{className:"flex",children:[1,2,3,4,5].map(t=>e.jsx("svg",{className:"w-4 h-4 text-yellow-400 fill-current",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M12 17.27L18.18 21L16.54 13.97L22 9.24L14.81 8.63L12 2L9.19 8.63L2 9.24L7.46 13.97L5.82 21L12 17.27Z"})},t))}),e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",s.rating_count,")"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"font-bold",children:["â‚¹",s.price]}),e.jsx(r,{to:`/courses/${s.id}`,className:"text-xs font-medium hover:underline",children:"Enroll"})]})]})]},s.id))}),e.jsx("div",{className:"text-center mt-8",children:e.jsx(r,{to:"/courses",className:"btn-secondary",children:"Browse All Courses"})})]})}),e.jsx("section",{className:"py-12 bg-gray-100",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-8",children:[e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Access KalaShaala on WhatsApp"}),e.jsx("p",{className:"mb-6",children:"Register as an artist and access all your information directly through WhatsApp. Get updates on schemes, courses, and connect with buyers easily."}),e.jsx(r,{to:"/whatsapp-registration",className:"btn-primary",children:"Register Now"})]}),e.jsx("div",{className:"md:w-1/2 flex justify-center",children:e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/6b/WhatsApp.svg/1200px-WhatsApp.svg.png",alt:"WhatsApp Integration",className:"w-full max-w-[300px] rounded-lg shadow-lg"})})]})})}),e.jsx("section",{className:"py-12",children:e.jsx("div",{className:"container-custom",children:e.jsxs("div",{className:"flex flex-col md:flex-row-reverse items-center justify-between gap-8",children:[e.jsxs("div",{className:"md:w-1/2",children:[e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Get Answers in Your Language"}),e.jsx("p",{className:"mb-6",children:"Our AI assistant can answer your questions about government schemes, courses, and more in multiple regional languages. Try voice commands too!"}),e.jsx(r,{to:"/chatbot",className:"btn-primary",children:"Chat Now"})]}),e.jsx("div",{className:"md:w-1/2 flex justify-center",children:e.jsx("img",{src:"https://cdn-icons-png.flaticon.com/512/4712/4712027.png",alt:"AI Chatbot",className:"w-full max-w-[300px] rounded-lg shadow-lg"})})]})})})]})};export{k as default};
